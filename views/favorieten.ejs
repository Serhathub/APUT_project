<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/favorieten.css" />
    <script src="js/favorieten.js"></script>
    <title>Favorieten</title>
  </head>
  <body>
    <h1 class="text-center mb-4">Favoriete Clubs</h1>
    <div class="dropdown">
      <img
        src="./assets/profiel_Icon.png"
        alt="Profiel Icon"
        class="profile-icon"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      />
      <ul class="dropdown-menu dropdown-menu-end">
        <li>
          <a
            class="dropdown-item"
            href="#"
            data-bs-toggle="modal"
            data-bs-target="#profileModal"
            >Profiel</a
          >
        </li>
        <li><a class="dropdown-item" href="Quiz-Page">Game Pagina</a></li>
        
        <li>
          <a class="dropdown-item" href="favorieten"
            >Favoriete Clubs</a
          >
        </li>
        <li>
          <a
            class="dropdown-item"
            href="favorieteleagues"
            >Favoriete League</a
          >
        </li>
        <li>
          <a
            class="dropdown-item"
            href="blacklistedPage"
            >Blacklisted Clubs</a
          >
        </li>
        <li><hr class="dropdown-divider" /></li>
        <li>
          <a class="dropdown-item" href="login">Uitloggen</a>
        </li>
      </ul>
    </div>
    <div class="container mt-5">
      <div class="mb-3">
        <input
          type="text"
          id="clubNameInput"
          class="form-control"
          placeholder="Voeg nieuwe club toe..."
        />
        <button
          class="btn btn-primary mt-2"
          style="background-color: #07f468"
          onclick="addNewClub()"
        >
          Toevoegen
        </button>
      </div>

     <div id="clubList" class="list-group">
  <% if (allClubs && allClubs.data && user && Array.isArray(user.favorites)) { %>
  <% const favorites = allClubs.data.filter(club => user.favorites.includes(club.id)); %>
  <% if (favorites.length === 0) { %>
    <p class="text-muted">Geen favoriete clubs gevonden.</p>
  <% } else { %>
    <% favorites.forEach(fav => { %>
      <div><%= fav.name %></div>
    <% }) %>
  <% } %>
<% } else { %>
  <p>Geen favoriete clubs beschikbaar.</p>
<% } %>
</div>

      <div id="clubDetail" class="container mt-5 d-none">
        <button class="btn btn-secondary mb-3" onclick="goBack()">
          ‚Üê Terug
        </button>
        <div id="clubContent" class="club-detail-box"></div>
      </div>
    </div>
    <%- include('partials/profileModal') %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
